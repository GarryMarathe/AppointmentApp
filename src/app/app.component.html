<div class="app-container">
  <ng-container *ngIf="isLoggedIn(); else loginTemplate">
    <!-- Only show navbar for non-patient roles -->
    <ng-container *ngIf="authService.getUserRole() !== 'patient'">
      <app-navbar (toggleSidebar)="toggleSidebar()"></app-navbar>
    </ng-container>
    
    <!-- Dashboard Layout -->
    <div class="dashboard-layout">
      <!-- Sidebar for non-patient roles -->
      <ng-container *ngIf="authService.getUserRole() !== 'patient'">
        <app-dashboard-sidebar [open]="sidebarOpen"></app-dashboard-sidebar>
      </ng-container>
      
      <!-- Content Area -->
      <div class="content-area">
        <router-outlet></router-outlet>
      </div>
    </div>
  </ng-container>

  <!-- Login Template for non-authenticated users -->
  <ng-template #loginTemplate>
    <router-outlet></router-outlet>
  </ng-template>
</div>